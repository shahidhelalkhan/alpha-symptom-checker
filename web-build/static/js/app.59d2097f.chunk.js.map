{"version":3,"sources":["screens/Loader.jsx","api/auth.js","screens/Home.jsx","api/requests.js","screens/Symptoms.jsx","screens/Diagnosis.jsx","navigation/RootNavigator.js","App.js","web-build/register-service-worker.js"],"names":["Loader","View","style","flex","justifyContent","alignItems","size","color","CryptoJS","require","AuthHost","HomeComponent","token","navigation","useState","loading","backgroundColor","Text","padding","fontSize","TextInput","placeholder","borderBottomWidth","borderBottomColor","onChangeText","value","console","log","TouchableOpacity","onPress","navigate","marginTop","Home","props","SetLoading","SetToken","useEffect","computedHashString","HmacMD5","toString","enc","Base64","fetch","method","headers","Authorization","then","res","json","getToken","Token","catch","err","Request","getSymptoms","ApiMedicHost","getDiagnosis","symptoms","year","map","s","ID","join","searchBar","search","setSearch","lightTheme","round","text","styles","StyleSheet","create","container","StatusBar","currentHeight","item","marginVertical","marginHorizontal","title","Symptoms","loader","route","params","data","SetData","selectItem","i","selected","modifiedData","SafeAreaView","FlatList","height","renderItem","index","icon","onClose","Name","keyExtractor","ListHeaderComponent","symptomArray","obj","push","goToDiagnosis","ActivityIndicator","Diagnosis","diagnosis","setDiagnosis","setLoading","Issue","RootNavigator","Stack","createStackNavigator","Navigator","initialRouteName","Screen","name","component","options","headerTitleAlign","App","NavigationContainer","navigator","window","addEventListener","serviceWorker","register","scope","info","error"],"mappings":"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","file":"static/js/app.59d2097f.chunk.js","sourcesContent":["import React from \"react\";\nimport { ActivityIndicator, View } from \"react-native\";\n\nfunction Loader() {\n  return (\n    <View style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}>\n      <ActivityIndicator size=\"large\" color=\"#84CAE7\" />\n    </View>\n  );\n}\n\nexport default Loader;\n","const CryptoJS = require(\"crypto-js\");\n\nconst ApiMedicHost = \"https://sandbox-healthservice.priaid.ch\";\nconst AuthHost = \"https://sandbox-authservice.priaid.ch\";\nconst user_id = \"shahidhelalkhan@gmail.com\";\nconst password = \"f3C8Lnp5K7ZaHz49T\";\n\nexport const getToken = () => {\n  const computedHash = CryptoJS.HmacMD5(`${AuthHost}/login`, password);\n  const computedHashString = computedHash.toString(CryptoJS.enc.Base64);\n\n  return fetch(`${AuthHost}/login`, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${user_id}:${computedHashString}`,\n    },\n  }).then((res) => res.json());\n};\n","import React, { useEffect, useState } from \"react\";\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  ActivityIndicator,\n} from \"react-native\";\nimport Loader from \"./Loader\";\nimport { getToken } from \"../api/auth\";\n\nconst HomeComponent = ({ token, navigation }) => {\n  const [loading, SetLoading] = useState(false);\n  const handleContinueBtn = () => {\n    navigation.navigate(\"symptoms\", { token: token });\n  };\n  return (\n    <View\n      style={{\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        backgroundColor: \"#fff\",\n      }}\n    >\n      <Text style={{ padding: 10, fontSize: 20 }}>Alpha Symptom Checker</Text>\n      <TextInput\n        placeholder=\"Age\"\n        style={{ padding: 10, borderBottomWidth: 1, borderBottomColor: \"red\" }}\n        onChangeText={(value) => console.log(value)}\n      ></TextInput>\n      <TouchableOpacity\n        onPress={handleContinueBtn}\n        style={{ padding: 15, backgroundColor: \"#84CAE7\", marginTop: 10 }}\n      >\n        {loading ? (\n          <ActivityIndicator size=\"small\" color=\"white\" />\n        ) : (\n          <Text style={{ color: \"white\" }}>Continue</Text>\n        )}\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nfunction Home(props) {\n  const [loading, SetLoading] = useState(true);\n  const [token, SetToken] = useState(null);\n  useEffect(() => {\n    getToken()\n      .then((res) => {\n        SetToken(res.Token);\n        SetLoading(false);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  return loading ? (\n    <Loader />\n  ) : (\n    <HomeComponent token={token} navigation={props.navigation} />\n  );\n}\n\nexport default Home;\n","const ApiMedicHost = \"https://sandbox-healthservice.priaid.ch\";\nconst lang = \"en-gb\";\nconst format = \"json\";\n\nconst Request = {\n  getSymptoms(token) {\n    return fetch(\n      `${ApiMedicHost}/symptoms?language=${lang}&format=${format}&token=${token}`,\n      {\n        method: \"GET\",\n      }\n    ).then((res) => res.json());\n  },\n  getDiagnosis(token, { symptoms, year }) {\n    return fetch(\n      `${ApiMedicHost}/diagnosis?symptoms=[${symptoms\n        .map((s) => s.ID)\n        .join(\n          \",\"\n        )}]&language=${lang}&format=${format}&token=${token}&gender=male&year_of_birth=${year}`,\n      {\n        method: \"GET\",\n      }\n    ).then((res) => res.json());\n  },\n};\n\nexport default Request;\n","import React, { useEffect, useState, useLayoutEffect } from \"react\";\nimport {\n  Text,\n  View,\n  FlatList,\n  SafeAreaView,\n  StatusBar,\n  StyleSheet,\n  TouchableOpacity,\n} from \"react-native\";\nimport Request from \"../api/requests\";\nimport Loader from \"./Loader\";\nimport { Chip } from \"react-native-paper\";\n\nimport { SearchBar } from \"react-native-elements\";\n\nconst searchBar = () => {\n  const [search, setSearch] = useState(\"\");\n  return (\n    <>\n      <SearchBar\n        lightTheme\n        round\n        placeholder=\"Start typing symptoms\"\n        onChangeText={(text) => setSearch(text)}\n        value={search}\n      ></SearchBar>\n    </>\n  );\n};\nconst FlatListItemSeparator = () => <View style={styles.line} />;\n\nfunction Symptoms(props) {\n  const [loading, SetLoading] = useState(true);\n  const [loader, setLoader] = useState(false);\n  const [token, SetToken] = useState(props.route.params.token);\n  const [data, SetData] = useState(null);\n\n  useEffect(() => {\n    Request.getSymptoms(token).then((res) => {\n      SetData(res);\n      SetLoading(false);\n    });\n  }, []);\n  const selectItem = (i, selected) => {\n    const modifiedData = [...data];\n    modifiedData[i].selected = !selected;\n    SetData(modifiedData);\n  };\n\n  const goToDiagnosis = () => {\n    let symptomArray = [];\n    data.map((obj) => {\n      if (obj.selected) {\n        symptomArray.push(obj);\n      }\n    });\n    props.navigation.navigate(\"diagnosis\", {\n      symptoms: symptomArray,\n      token: token,\n    });\n  };\n\n  const renderItem = ({ item, index }) => {\n    if (item.selected) {\n      return (\n        <Chip\n          icon=\"checkbox-marked\"\n          onClose={() => selectItem(index, item.selected)}\n        >\n          {item.Name}\n        </Chip>\n      );\n    } else {\n      return (\n        <Chip\n          icon=\"information\"\n          onPress={() => selectItem(index, item.selected)}\n        >\n          {item.Name}\n        </Chip>\n      );\n    }\n  };\n\n  return loading ? (\n    <Loader />\n  ) : (\n    <SafeAreaView style={styles.container}>\n      <FlatList\n        style={{ height: 450 }}\n        data={data}\n        renderItem={renderItem}\n        keyExtractor={(item) => item.Name}\n        ListHeaderComponent={searchBar}\n      />\n      <TouchableOpacity\n        style={{\n          flex: 1,\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          backgroundColor: \"#84CAE7\",\n        }}\n        onPress={() => goToDiagnosis()}\n      >\n        {loader ? (\n          <ActivityIndicator size=\"small\" color=\"white\" />\n        ) : (\n          <Text style={{ color: \"white\" }}>Continue</Text>\n        )}\n      </TouchableOpacity>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight || 0,\n  },\n  item: {\n    backgroundColor: \"purple\",\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16,\n  },\n  title: {\n    fontSize: 16,\n    color: \"#fff\",\n  },\n});\n\nexport default Symptoms;\n","import React, { useState, useEffect } from \"react\";\nimport { Text, View, FlatList } from \"react-native\";\nimport Request from \"../api/requests\";\nimport Loader from \"./Loader\";\n\nfunction Diagnosis(props) {\n  const [symptoms, setSymptoms] = useState(props.route.params.symptoms);\n  const [token, setToken] = useState(props.route.params.token);\n  const [diagnosis, setDiagnosis] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    Request.getDiagnosis(token, { symptoms, year: \"1992\" })\n      .then((res) => {\n        setLoading(false);\n        console.log(res);\n        setDiagnosis(res);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  return loading ? (\n    <Loader />\n  ) : (\n    <View style={{ flex: 1, alignItems: \"center\" }}>\n      <FlatList\n        style={{ height: 450 }}\n        data={diagnosis}\n        renderItem={(item) => <Text>{item.item.Issue.Name}</Text>}\n        keyExtractor={(item) => item.Name}\n      />\n    </View>\n  );\n}\n\nexport default Diagnosis;\n","import React from \"react\";\nimport { Button } from \"react-native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport Home from \"../screens/Home\";\nimport Symptoms from \"../screens/Symptoms\";\nimport Diagnosis from \"../screens/Diagnosis\";\n\nfunction RootNavigator() {\n  const Stack = createStackNavigator();\n\n  return (\n    <Stack.Navigator initialRouteName=\"home\">\n      <Stack.Screen\n        name=\"home\"\n        component={Home}\n        options={{ title: \"Home\", headerTitleAlign: \"center\" }}\n      />\n\n      <Stack.Screen\n        name=\"symptoms\"\n        component={Symptoms}\n        options={{\n          title: \"Select Symptoms\",\n          headerTitleAlign: \"center\",\n        }}\n      />\n\n      <Stack.Screen\n        name=\"diagnosis\"\n        component={Diagnosis}\n        options={{ title: \"Diagnosis\" }}\n      />\n    </Stack.Navigator>\n  );\n}\n\nexport default RootNavigator;\n","import { StatusBar } from \"expo-status-bar\";\nimport { StyleSheet, Text, View } from \"react-native\";\nimport \"react-native-gesture-handler\";\nimport * as React from \"react\";\nimport RootNavigator from \"./navigation/RootNavigator\";\nimport { NavigationContainer } from \"@react-navigation/native\";\n\nexport default function App() {\n  return (\n    <NavigationContainer>\n      <RootNavigator />\n    </NavigationContainer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function (info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function (error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n"],"sourceRoot":""}